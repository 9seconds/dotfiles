# kitty config
# https://sw.kovidgoyal.net/kitty/conf/

# Fonts
# https://sw.kovidgoyal.net/kitty/conf/#fonts
font_family family='Monaspace Neon Var' variable_name=MonaspaceNeonVar features="+calt +ss01 +ss02 +ss03 +ss04 +ss06 +ss08 +liga +cv60 +cv61"
bold_font auto
italic_font auto
bold_italic_font auto
font_size 13
modify_font cell_height 130%
modify_font baseline -2

# Text cursor
# https://sw.kovidgoyal.net/kitty/conf/#text-cursor-customization
cursor_shape block
cursor_blink_interval 0

# Scrollback
# https://sw.kovidgoyal.net/kitty/conf/#scrollback
scrollback_lines 8192
scrollback_pager_history_size 1024
touch_scroll_multiplier 1.2

# Mouse
# https://sw.kovidgoyal.net/kitty/conf/#mouse
url_style straight

# Performance
# https://sw.kovidgoyal.net/kitty/conf/#performance-tuning

# Terminal bell
# https://sw.kovidgoyal.net/kitty/conf/#terminal-bell
enable_audio_bell no

# Window layout
# https://sw.kovidgoyal.net/kitty/conf/#window-layout
remember_window_size no
initial_window_width 300c
initial_window_height 70c
confirm_os_window_close 0

# Tab Bar
# https://sw.kovidgoyal.net/kitty/conf/#tab-bar
tab_bar_edge top
tab_bar_style powerline
tab_title_template "{index}: {title}"

# OS Specific tweaks
# https://sw.kovidgoyal.net/kitty/conf/#os-specific-tweaks
macos_option_as_alt yes
macos_quit_when_last_window_closed yes
macos_traditional_fullscreen yes
macos_custom_beam_cursor yes

# Advanced stuff
shell_integration no-cursor

# Theme
include theme.conf
url_color #565f89

# Keyboard
# https://sw.kovidgoyal.net/kitty/conf/#keyboard-shortcuts
# https://sw.kovidgoyal.net/kitty/actions/
clear_all_shortcuts yes

# copy/paste
map kitty_mod+c copy_to_clipboard
map kitty_mod+v paste_from_clipboard

# scroll to commands
map kitty_mod+up scroll_to_prompt -1
map kitty_mod+down scroll_to_prompt 1
map kitty_mod+left scroll_to_prompt 0
map kitty_mod+right show_last_visited_command_output
map page_up scroll_page_up
map page_down scroll_page_down
map home scroll_home
map end scroll_end
map shift+up scroll_line_up
map shift+down scroll_line_down
map kitty_mod+k clear_terminal reset active

# windows
map kitty_mod+d launch --location=vsplit --cwd=current
map kitty_mod+shift+d launch --location=hsplit --cwd=current
map kitty_mod+h neighboring_window left
map kitty_mod+j neighboring_window down
map kitty_mod+k neighboring_window up
map kitty_mod+l neighboring_window right
map kitty_mod+z toggle_layout stack
map kitty_mod+shift+up resize_window taller
map kitty_mod+shift+down resize_window shorter
map kitty_mod+shift+left resize_window wider
map kitty_mod+shift+right resize_window narrower

# urls
map kitty_mod+/ open_url_with_hints

# tabs
map kitty_mod+shift+q close_other_tabs_in_os_window
map kitty_mod+q close_tab
map kitty_mod+t new_tab_with_cwd
map kitty_mod+shift+t new_tab
map kitty_mod+r set_tab_title
map kitty_mod+1 goto_tab 1
map kitty_mod+2 goto_tab 2
map kitty_mod+3 goto_tab 3
map kitty_mod+4 goto_tab 4
map kitty_mod+5 goto_tab 5
map kitty_mod+6 goto_tab 6
map kitty_mod+7 goto_tab 7
map kitty_mod+8 goto_tab 8
map kitty_mod+9 goto_tab 9
map kitty_mod+` select_tab

# os windows
map kitty_mod+n new_os_window_with_cwd
map kitty_mod+shift+n new_os_window
map kitty_mod+f toggle_fullscreen

# manage kitty
map kitty_mod+shift+, load_config_file
map kitty_mod+, edit_config_file

# search
map kitty_mod+s launch --stdin-source=@screen_scrollback --stdin-add-formatting less +g -R

# kitten hints
map kitty_mod+shift+s>shift+h kitten hints --type hash --program -
map kitty_mod+shift+s>h kitten hints --type hash --program @
map kitty_mod+shift+s>shift+u kitten hints --type url --program -
map kitty_mod+shift+s>u kitten hints --type url --program @
map kitty_mod+shift+s>shift+p kitten hints --type path --program -
map kitty_mod+shift+s>p kitten hints --type path --program @
map kitty_mod+shift+s>shift+i kitten hints --type ip --program -
map kitty_mod+shift+s>i kitten hints --type ip --program @
map kitty_mod+shift+s>o kitten hints --type linenum --program launch nvim +{line} {path}
map kitty_mod+shift+s>shift+o kitten hints --type linenum --linenum-action=window nvim +{line} {path}
map kitty_mod+shift+s>shift+w kitten hints --type word --program -
map kitty_mod+shift+s>w kitten hints --type word --program @

include ${KITTY_OS}.conf
